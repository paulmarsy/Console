/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/
define("vs/nls!vs/languages/typescript/common/features/quickFixMainActions",["vs/nls","vs/nls!vs/languages/javascript/common/javascript"],function(e,t){return e.create("vs/languages/typescript/common/features/quickFixMainActions",t)}),define("vs/nls!vs/languages/typescript/common/typescriptMode",["vs/nls","vs/nls!vs/languages/javascript/common/javascript"],function(e,t){return e.create("vs/languages/typescript/common/typescriptMode",t)}),define("vs/languages/typescript/common/typescript",["require","exports","vs/base/common/winjs.base","vs/platform/platform","vs/base/common/uri"],function(e,t,r,o,n){function i(e){return"string"==typeof e?0===e.indexOf("ts://defaultlib"):"ts"===e.scheme&&"defaultlib"===e.authority}!function(e){e[e.Changed=0]="Changed",e[e.Added=1]="Added",e[e.Removed=2]="Removed"}(t.ChangeKind||(t.ChangeKind={}));var s=t.ChangeKind;t.defaultLib=n["default"].create("ts","defaultlib","/vs/text!vs/languages/typescript/common/lib/lib.d.ts"),t.defaultLibES6=n["default"].create("ts","defaultlib","/vs/text!vs/languages/typescript/common/lib/lib.es6.d.ts"),t.isDefaultLib=i,t.virtualProjectResource=n["default"].create("ts","projects","/virtual/1");var c=function(){function e(){this._needsProjectUpdate=!1,this._fileChanges=[],this._projectChange={kind:s.Changed,resource:t.virtualProjectResource,files:[],options:void 0}}return e.prototype.setConsumer=function(e){this._consumer=e},e.prototype.resolveProjects=function(){var e=[];return this._fileChanges.length&&(e.push(this._consumer.acceptFileChanges(this._fileChanges.slice(0))),this._fileChanges.length=0),this._needsProjectUpdate&&(e.push(this._consumer.acceptProjectChanges([this._projectChange])),this._needsProjectUpdate=!1),r.Promise.join(e)},e.prototype.resolveFiles=function(){},e.prototype.addExtraLib=function(e,t){var r=t?n["default"].file(t):n["default"].create("extralib",void 0,Date.now().toString());this._needsProjectUpdate=!0,this._projectChange.files.push(r),this._fileChanges.push({kind:s.Added,resource:r,content:e})},e.prototype.setCompilerOptions=function(e){this._needsProjectUpdate=!0,this._projectChange.options=e},e}();t.DefaultProjectResolver=c;var a;!function(e){function t(t,r){e.ProjectResolver.addExtraLib(t,r)}function r(t){e.ProjectResolver.setCompilerOptions(t)}e.ProjectResolver=new c,e.addExtraLib=t,e.setCompilerOptions=r}(a=t.Defaults||(t.Defaults={}));var u;!function(e){function t(e){n=e}function r(){return n}e.Identifier="typescript",o.Registry.add(e.Identifier,e);var n;e.setProjectResolver=t,e.getProjectResolver=r}(u=t.Extensions||(t.Extensions={}))}),define("vs/languages/javascript/common/javascript.extensions",["require","exports","vs/platform/platform","vs/languages/typescript/common/typescript"],function(e,t,r,o){var n;!function(e){function t(t,r){e.ProjectResolver.addExtraLib(t,r)}function r(t){e.ProjectResolver.setCompilerOptions(t)}e.ProjectResolver=new o.DefaultProjectResolver,e.addExtraLib=t,e.setCompilerOptions=r}(n=t.Defaults||(t.Defaults={}));var i;!function(e){function t(e){n=e}function o(){return n}e.Identifier="javascript",r.Registry.add(e.Identifier,e);var n;e.setProjectResolver=t,e.getProjectResolver=o}(i=t.Extensions||(t.Extensions={}))});var __decorate=this&&this.__decorate||function(e,t,r,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return void(o&&o(t,r))},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,r,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};define("vs/languages/typescript/common/features/quickFixMainActions",["require","exports","vs/nls!vs/languages/typescript/common/features/quickFixMainActions","vs/base/common/strings","vs/base/common/winjs.base","vs/base/common/paths","vs/platform/files/common/files","vs/platform/request/common/request","vs/platform/workspace/common/workspace"],function(e,t,r,o,n,i,s,c,a){var u=function(){function e(e,t,r){this._requestService=e,this._fileService=t,this._contextService=r}return e.prototype.evaluate=function(e,t,r){var o=r.command.arguments[0];switch(o.type){case"typedefinitions":return this.evaluateAddTypeDefinitionProposal(o.name,e)}return n.Promise.as(null)},e.prototype.evaluateAddTypeDefinitionProposal=function(e,t){var s=this,c="typings/"+e,a=this._contextService.toResource(c),u=this._contextService.toResource("jsconfig.json");if(!a||!u)return n.Promise.as(null);var p=this._contextService.toWorkspaceRelativePath(t);p||(p=t.fsPath);var l=o.rtrim(i.dirname(p),"/");i.relative(l,c);return this._fileService.resolveFile(a).then(function(e){return{message:r.localize(0,null,c)}},function(t){var o="https://raw.githubusercontent.com/borisyankov/DefinitelyTyped/master/"+e;return s._requestService.makeRequest({url:o,followRedirects:5}).then(function(e){return s._fileService.createFile(a,e.responseText).then(function(e){return s._fileService.resolveFile(u).then(function(e){return{message:r.localize(1,null,c)}},function(e){return{message:r.localize(2,null,c)}})},function(e){return{message:r.localize(3,null,c,e.toString())}})},function(e){return{message:r.localize(4,null,o,e.responseText)}})})},e=__decorate([__param(0,c.IRequestService),__param(1,s.IFileService),__param(2,a.IWorkspaceContextService)],e)}();t.QuickFixMainActions=u}),define("vs/languages/typescript/common/features/tokenization",["require","exports","vs/base/common/strings","vs/base/common/arrays","vs/base/common/collections","vs/editor/common/modes","vs/editor/common/modes/supports","vs/languages/typescript/common/lib/typescriptServices","vs/editor/common/modes/abstractState"],function(e,t,r,o,n,i,s,c,a){function u(e,t){var r=c.createClassifier(),o=t===d.TypeScript?h:v,n=t===d.TypeScript?g:y;return{shouldGenerateEmbeddedModels:!1,getInitialState:function(){return new f(e,null,t,0,!1)},tokenize:function(e,t,i,s){return p(o,n,r,t,e,i,s)}}}function p(e,t,n,a,u,p,h){function g(e,t,r){(0===v.tokens.length||void 0!==r||o.tail(v.tokens).type!==t)&&v.tokens.push(new s.Token(e,t,r||i.Bracket.None))}void 0===p&&(p=0);var v={tokens:[],actualStopOffset:p+u.length,endState:new f(a.getMode(),a.getStateData(),a.language,0,!1),modeTransitions:[{startIndex:p,mode:a.getMode()}]},y=a.language===d.TypeScript;if(!y&&l(a,p,u,g))return v;var _=n.getClassificationsForLine(u,a.eolState,!0),k=0;v.endState.eolState=_.finalLexState,v.endState.inJsDocComment=1===_.finalLexState&&(a.inJsDocComment||/\/\*\*.*$/.test(u));for(var S=0,A=_.entries;S<A.length;S++){var C,j=A[S],T=i.Bracket.None;if(j.classification===c.TokenClass.Punctuation){var b=u.charCodeAt(k);T=m[b]||i.Bracket.None,C=e[b]||t[j.classification],g(k+p,C,T)}else j.classification===c.TokenClass.Comment?v.endState.inJsDocComment||/\/\*\*.*\*\//.test(u.substr(k,j.length))?g(k+p,y?"comment.doc.ts":"comment.doc.js",i.Bracket.None):g(k+p,y?"comment.ts":"comment.js",i.Bracket.None):g(k+p,t[j.classification]||r.empty,void 0);k+=j.length}return v}function l(e,t,r,o){return 0===r.indexOf("#!")?(o(t,"comment.shebang",i.Bracket.None),!0):void 0}!function(e){e[e.TypeScript=0]="TypeScript",e[e.EcmaScript5=1]="EcmaScript5"}(t.Language||(t.Language={}));var d=t.Language;t.createTokenizationSupport=u;var f=function(){function e(e,t,r,o,n){this._mode=e,this._state=t,this.language=r,this.eolState=o,this.inJsDocComment=n}return e.prototype.clone=function(){return new e(this._mode,a.AbstractState.safeClone(this._state),this.language,this.eolState,this.inJsDocComment)},e.prototype.equals=function(t){return t===this?!0:t&&t instanceof e?this.eolState!==t.eolState?!1:this.inJsDocComment!==t.inJsDocComment?!1:a.AbstractState.safeEquals(this._state,t._state):!1},e.prototype.getMode=function(){return this._mode},e.prototype.tokenize=function(e){throw new Error},e.prototype.getStateData=function(){return this._state},e.prototype.setStateData=function(e){this._state=e},e}(),m=n.createNumberDictionary();m["(".charCodeAt(0)]=i.Bracket.Open,m[")".charCodeAt(0)]=i.Bracket.Close,m["{".charCodeAt(0)]=i.Bracket.Open,m["}".charCodeAt(0)]=i.Bracket.Close,m["[".charCodeAt(0)]=i.Bracket.Open,m["]".charCodeAt(0)]=i.Bracket.Close;var h=n.createNumberDictionary();h["(".charCodeAt(0)]="delimiter.parenthesis.ts",h[")".charCodeAt(0)]="delimiter.parenthesis.ts",h["{".charCodeAt(0)]="delimiter.bracket.ts",h["}".charCodeAt(0)]="delimiter.bracket.ts",h["[".charCodeAt(0)]="delimiter.array.ts",h["]".charCodeAt(0)]="delimiter.array.ts";var g=n.createNumberDictionary();g[c.TokenClass.Identifier]="identifier.ts",g[c.TokenClass.Keyword]="keyword.ts",g[c.TokenClass.Operator]="delimiter.ts",g[c.TokenClass.Punctuation]="delimiter.ts",g[c.TokenClass.NumberLiteral]="number.ts",g[c.TokenClass.RegExpLiteral]="regexp.ts",g[c.TokenClass.StringLiteral]="string.ts";var v=n.createNumberDictionary();v["(".charCodeAt(0)]="delimiter.parenthesis.js",v[")".charCodeAt(0)]="delimiter.parenthesis.js",v["{".charCodeAt(0)]="delimiter.bracket.js",v["}".charCodeAt(0)]="delimiter.bracket.js",v["[".charCodeAt(0)]="delimiter.array.js",v["]".charCodeAt(0)]="delimiter.array.js";var y=n.createNumberDictionary();y[c.TokenClass.Identifier]="identifier.js",y[c.TokenClass.Keyword]="keyword.js",y[c.TokenClass.Operator]="delimiter.js",y[c.TokenClass.Punctuation]="delimiter.js",y[c.TokenClass.NumberLiteral]="number.js",y[c.TokenClass.RegExpLiteral]="regexp.js",y[c.TokenClass.StringLiteral]="string.js"});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},__decorate=this&&this.__decorate||function(e,t,r,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return void(o&&o(t,r))},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,r,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};define("vs/languages/typescript/common/typescriptMode",["require","exports","vs/nls!vs/languages/typescript/common/typescriptMode","vs/base/common/winjs.base","vs/base/common/uri","vs/editor/common/editorCommon","vs/editor/common/modes","vs/base/common/lifecycle","vs/base/common/async","vs/editor/common/modes/supports","vs/languages/typescript/common/features/tokenization","vs/languages/typescript/common/features/quickFixMainActions","vs/languages/typescript/common/typescript","vs/editor/common/modes/abstractMode","vs/editor/common/services/modelService","vs/platform/thread/common/threadService","vs/platform/instantiation/common/descriptors","vs/platform/telemetry/common/telemetry","vs/platform/thread/common/thread","vs/editor/common/modes/supports/onEnter","vs/platform/instantiation/common/instantiation"],function(e,t,r,o,n,i,s,c,a,u,p,l,d,f,m,h,g,v,y,_,k){var S=function(){function e(e,t){var r=this;this._listener=Object.create(null),this._lastValidationReq=0,this._modelService=t,this._mode=e,this._validation=new a.RunOnceScheduler(this._doValidate.bind(this),750),this._modelService&&(this._modelService.onModelAdded(this._onModelAdded,this),this._modelService.onModelRemoved(this._onModelRemoved,this),this._modelService.onModelModeChanged(function(e){r._onModelRemoved(e.model),r._onModelAdded(e.model)},this),this._modelService.getModels().forEach(this._onModelAdded,this))}return e.prototype.dispose=function(){this._validation.dispose()},e.prototype.validateOpen=function(){this._scheduleValidation()},e.prototype._scheduleValidation=function(e){this._lastValidationReq+=1,this._lastChangedResource=e,this._validation.schedule()},e.prototype._doValidate=function(){var e=this,t=[];this._lastChangedResource&&t.push(this._lastChangedResource);for(var r in this._listener)this._lastChangedResource&&r===this._lastChangedResource.toString()||t.push(n["default"].parse(r));var i=this._lastValidationReq,s=a.sequence(t.map(function(t){return function(){return e._modelService.getModel(t)?i===e._lastValidationReq?e._mode.performSemanticValidation(t):void 0:o.Promise.as(void 0)}}));s.done(void 0,function(e){return console.warn(e)})},e.prototype._onModelAdded=function(e){var t=this;if(this._mode._shouldBeValidated(e)){var r,o;r=function(){t._scheduleValidation(e.getAssociatedResource())},o=e.addListener(i.EventType.ModelContentChanged2,function(e){return r()}),this._listener[e.getAssociatedResource().toString()]=o,r()}},e.prototype._onModelRemoved=function(e){var t=this._listener[e.getAssociatedResource().toString()];t&&(t(),delete this._listener[e.getAssociatedResource().toString()])},e=__decorate([__param(1,m.IModelService)],e)}(),A=function(t){function n(e,r,n,i){var c=this;if(t.call(this,e,r,n),this._disposables=[],this._telemetryService=i,this._threadService&&this._threadService.isInMainThread){this._semanticValidator=r.createInstance(S,this),this._disposables.push(this._semanticValidator);var a=this._getProjectResolver();if(!a)throw new Error("missing project resolver!");a instanceof g.AsyncDescriptor?this._projectResolver=r.createInstance(a,this).then(void 0,function(e){return console.error(e),d.Defaults.ProjectResolver}):this._projectResolver=o.TPromise.as(a),this._projectResolver=this._projectResolver.then(function(e){return e.setConsumer(c),e})}this.extraInfoSupport=this,this.occurrencesSupport=this,this.formattingSupport=this,this.quickFixSupport=this,this.logicalSelectionSupport=this,this.outlineSupport=this,this.emitOutputSupport=this,this.renameSupport=this,this.tokenizationSupport=p.createTokenizationSupport(this,p.Language.TypeScript),this.electricCharacterSupport=new u.BracketElectricCharacterSupport(this,{brackets:[{tokenType:"delimiter.bracket.ts",open:"{",close:"}",isElectric:!0},{tokenType:"delimiter.array.ts",open:"[",close:"]",isElectric:!0},{tokenType:"delimiter.parenthesis.ts",open:"(",close:")",isElectric:!0}],docComment:{scope:"comment.doc",open:"/**",lineStart:" * ",close:" */"}}),this.referenceSupport=new u.ReferenceSupport(this,{tokens:["identifier.ts"],findReferences:function(e,t,r){return c.findReferences(e,t,r)}}),this.declarationSupport=new u.DeclarationSupport(this,{tokens:["identifier.ts","string.ts","attribute.value.vs"],findDeclaration:function(e,t){return c.findDeclaration(e,t)}}),this.parameterHintsSupport=new u.ParameterHintsSupport(this,{triggerCharacters:["(",","],excludeTokens:["string.ts"],getParameterHints:function(e,t){return c.getParameterHints(e,t)}}),this.characterPairSupport=new u.CharacterPairSupport(this,{autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]},{open:"`",close:"`"}]}),this.suggestSupport=new u.SuggestSupport(this,{triggerCharacters:["."],excludeTokens:["string","comment","number"],suggest:function(e,t){return c.suggest(e,t)},getSuggestionDetails:function(e,t,r){return c.getSuggestionDetails(e,t,r)}}),this.onEnterSupport=new _.OnEnterSupport(this.getId(),{brackets:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"}],regExpRules:[{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,afterText:/^\s*\*\/$/,action:{indentAction:s.IndentAction.IndentOutdent,appendText:" * "}},{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,action:{indentAction:s.IndentAction.None,appendText:" * "}},{beforeText:/^(\t|(\ \ ))*\ \*(\ ([^\*]|\*(?!\/))*)?$/,action:{indentAction:s.IndentAction.None,appendText:"* "}},{beforeText:/^(\t|(\ \ ))*\ \*\/\s*$/,action:{indentAction:s.IndentAction.None,removeText:1}}]})}return __extends(n,t),n.prototype.dispose=function(){this._disposables=c.disposeAll(this._disposables)},n.prototype._shouldBeValidated=function(e){return e.getMode()===this||/\.ts$/.test(e.getAssociatedResource().fsPath)},n.prototype._getProjectResolver=function(){return d.Extensions.getProjectResolver()||d.Defaults.ProjectResolver},n.prototype.acceptProjectChanges=function(e){return this._semanticValidator.validateOpen(),this._doAcceptProjectChanges(e)},n.prototype._doAcceptProjectChanges=function(e){return this._worker(function(t){return t.acceptProjectChanges(e)})},n.prototype.acceptFileChanges=function(e){for(var t=this,n=0,i=0;i<e.length;i++){var s=e[i];s.content&&(n+=s.content.length)}return this._canAcceptFileChanges(n).then(function(n){return n===!1?o.TPromise.wrapError(r.localize(0,null)):t._doAcceptFileChanges(e).then(function(e){return t._semanticValidator.validateOpen(),e})})},n.prototype._canAcceptFileChanges=function(e){return this._worker(function(t){return t.canAcceptFileChanges(e)})},n.prototype._doAcceptFileChanges=function(e){return this._worker(function(t){return t.acceptFileChanges(e)})},n.prototype._defaultLib=function(){var t=this;if(!this._defaultLibPromise){var r=[],n=new o.TPromise(function(t,r){return e([d.defaultLib.path.substr(1)],t,r)}).then(function(e){r.push({kind:d.ChangeKind.Added,resource:d.defaultLib,content:e})}),i=new o.TPromise(function(t,r){return e([d.defaultLibES6.path.substr(1)],t,r)}).then(function(e){r.push({kind:d.ChangeKind.Added,resource:d.defaultLibES6,content:e})});this._defaultLibPromise=o.TPromise.join([n,i]).then(function(e){return t.acceptFileChanges(r)})}return new a.ShallowCancelThenPromise(this._defaultLibPromise)},n.prototype._syncProjects=function(){var e=this;return this._projectResolver?this._defaultLib().then(function(t){return e._projectResolver}).then(function(e){return e.resolveProjects()}):void 0},n.prototype.configure=function(e){var r=this,o=t.prototype.configure.call(this,e);return this._semanticValidator&&o.then(function(e){return e&&r._semanticValidator.validateOpen()}),o},n.prototype._getWorkerDescriptor=function(){return g.createAsyncDescriptor2("vs/languages/typescript/common/typescriptWorker2","TypeScriptWorker2")},n.prototype.getCommentsConfiguration=function(){return{lineCommentTokens:["//"],blockCommentStartToken:"/*",blockCommentEndToken:"*/"}},n.prototype._pickAWorkerToValidate=function(){return this._worker(function(e){return e.enableValidator()})},n.prototype.performSemanticValidation=function(e){var t=this;return this.doValidateSemantics(e).then(function(e){return e?t.getMissingFiles().then(function(e){return e?t._projectResolver.then(function(t){return t.resolveFiles(e)}):void 0}):void 0})},n.prototype.doValidateSemantics=function(e){return this._worker(function(t){return t.doValidateSemantics(e)})},n.prototype.getMissingFiles=function(){return this._worker(function(e){return e.getMissingFiles()})},n.prototype.getOutline=function(e){return this._worker(function(t){return t.getOutline(e)})},n.prototype.findOccurrences=function(e,t,r){return void 0===r&&(r=!1),this._worker(function(o){return o.findOccurrences(e,t,r)})},n.prototype.suggest=function(e,t){return this._worker(function(r){return r.suggest(e,t)})},n.prototype.getSuggestionDetails=function(e,t,r){return this._worker(function(o){return o.getSuggestionDetails(e,t,r)})},n.prototype.getParameterHints=function(e,t){return this._worker(function(r){return r.getParameterHints(e,t)})},n.prototype.getEmitOutput=function(e,t){return void 0===t&&(t=void 0),this._worker(function(r){return r.getEmitOutput(e,t)})},n.prototype.getWordDefinition=function(){return n.WORD_DEFINITION},n.prototype.findReferences=function(e,t,r){return this._worker(function(o){return o.findReferences(e,t,r)})},Object.defineProperty(n.prototype,"filter",{get:function(){return["identifier.ts","string.ts"]},enumerable:!0,configurable:!0}),n.prototype.rename=function(e,t,r){return this._worker(function(o){return o.rename(e,t,r)})},n.prototype.runQuickFixAction=function(e,t,r){var o=this,n=this._instantiationService.createInstance(l.QuickFixMainActions);return n.evaluate(e,t,r).then(function(n){return n?n:o.runQuickFixActionInWorker(e,t,r)})},n.prototype.runQuickFixActionInWorker=function(e,t,r){return this._worker(function(o){return o.runQuickFixAction(e,t,r)})},n.prototype.getQuickFixes=function(e,t){return this._worker(function(r){return r.getQuickFixes(e,t)})},n.prototype.getRangesToPosition=function(e,t){return this._worker(function(r){return r.getRangesToPosition(e,t)})},n.prototype.findDeclaration=function(e,t){return this._worker(function(r){return r.findDeclaration(e,t)})},n.prototype.computeInfo=function(e,t){return this._worker(function(r){return r.computeInfo(e,t)})},Object.defineProperty(n.prototype,"autoFormatTriggerCharacters",{get:function(){return[";","}","\n"]},enumerable:!0,configurable:!0}),n.prototype.formatDocument=function(e,t){return this._worker(function(r){return r.formatDocument(e,t)})},n.prototype.formatRange=function(e,t,r){return this._worker(function(o){return o.formatRange(e,t,r)})},n.prototype.formatAfterKeystroke=function(e,t,r,o){return this._worker(function(n){return n.formatAfterKeystroke(e,t,r,o)})},n.$_doAcceptProjectChanges=h.AllWorkersAttr(n,n.prototype._doAcceptProjectChanges),n.$_canAcceptFileChanges=h.OneWorkerAttr(n,n.prototype._canAcceptFileChanges),n.$_doAcceptFileChanges=h.AllWorkersAttr(n,n.prototype._doAcceptFileChanges),n.$_pickAWorkerToValidate=h.OneWorkerAttr(n,n.prototype._pickAWorkerToValidate,n.prototype._syncProjects,y.ThreadAffinity.Group3),n.$doValidateSemantics=h.OneWorkerAttr(n,n.prototype.doValidateSemantics,n.prototype._syncProjects,y.ThreadAffinity.Group3),n.$getMissingFiles=h.OneWorkerAttr(n,n.prototype.getMissingFiles,n.prototype._syncProjects,y.ThreadAffinity.Group3),n.$getOutline=h.OneWorkerAttr(n,n.prototype.getOutline,n.prototype._syncProjects,y.ThreadAffinity.Group1),n.$findOccurrences=h.OneWorkerAttr(n,n.prototype.findOccurrences,n.prototype._syncProjects,y.ThreadAffinity.Group2),n.$suggest=h.OneWorkerAttr(n,n.prototype.suggest,n.prototype._syncProjects,y.ThreadAffinity.Group2),n.$getSuggestionDetails=h.OneWorkerAttr(n,n.prototype.getSuggestionDetails,n.prototype._syncProjects,y.ThreadAffinity.Group2),n.$getParameterHints=h.OneWorkerAttr(n,n.prototype.getParameterHints,n.prototype._syncProjects,y.ThreadAffinity.Group2),n.$getEmitOutput=h.OneWorkerAttr(n,n.prototype.getEmitOutput,n.prototype._syncProjects,y.ThreadAffinity.Group3),n.WORD_DEFINITION=f.createWordRegExp("$"),n.$findReferences=h.OneWorkerAttr(n,n.prototype.findReferences,n.prototype._syncProjects,y.ThreadAffinity.Group3),n.$rename=h.OneWorkerAttr(n,n.prototype.rename,n.prototype._syncProjects,y.ThreadAffinity.Group2),n.$runQuickFixActionInWorker=h.OneWorkerAttr(n,n.prototype.runQuickFixActionInWorker,n.prototype._syncProjects,y.ThreadAffinity.Group2),n.$getQuickFixes=h.OneWorkerAttr(n,n.prototype.getQuickFixes,n.prototype._syncProjects,y.ThreadAffinity.Group2),n.$getRangesToPosition=h.OneWorkerAttr(n,n.prototype.getRangesToPosition,n.prototype._syncProjects,y.ThreadAffinity.Group1),n.$findDeclaration=h.OneWorkerAttr(n,n.prototype.findDeclaration,n.prototype._syncProjects,y.ThreadAffinity.Group2),n.$computeInfo=h.OneWorkerAttr(n,n.prototype.computeInfo,n.prototype._syncProjects,y.ThreadAffinity.Group2),n.$formatDocument=h.OneWorkerAttr(n,n.prototype.formatDocument,n.prototype._syncProjects,y.ThreadAffinity.Group1),n.$formatRange=h.OneWorkerAttr(n,n.prototype.formatRange,n.prototype._syncProjects,y.ThreadAffinity.Group1),n.$formatAfterKeystroke=h.OneWorkerAttr(n,n.prototype.formatAfterKeystroke,n.prototype._syncProjects,y.ThreadAffinity.Group1),n=__decorate([__param(1,k.IInstantiationService),__param(2,y.IThreadService),__param(3,v.ITelemetryService)],n)}(f.AbstractMode);t.TypeScriptMode=A});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},__decorate=this&&this.__decorate||function(e,t,r,o){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,o);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,o){return void(o&&o(t,r))},void 0);case 4:return e.reduceRight(function(e,o){return o&&o(t,r,e)||e},o)}},__param=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};define("vs/languages/javascript/common/javascript",["require","exports","vs/base/common/winjs.base","vs/languages/typescript/common/features/tokenization","vs/languages/typescript/common/typescriptMode","vs/editor/common/modes","vs/editor/common/modes/supports","vs/languages/javascript/common/javascript.extensions","vs/editor/common/modes/abstractMode","vs/platform/instantiation/common/descriptors","vs/editor/common/modes/supports/onEnter","vs/platform/thread/common/thread","vs/platform/instantiation/common/instantiation","vs/platform/telemetry/common/telemetry"],function(e,t,r,o,n,i,s,c,a,u,p,l,d,f){var m=function(t){function n(e,r,n,c){var a=this;t.call(this,e,r,n,c),this.tokenizationSupport=o.createTokenizationSupport(this,o.Language.EcmaScript5),this.referenceSupport=new s.ReferenceSupport(this,{tokens:[],findReferences:function(e,t,r){return a.findReferences(e,t,r)}}),this.declarationSupport=new s.DeclarationSupport(this,{tokens:[],findDeclaration:function(e,t){return a.findDeclaration(e,t)}}),this.parameterHintsSupport=new s.ParameterHintsSupport(this,{triggerCharacters:["(",","],excludeTokens:["string.js","string.escape.js"],getParameterHints:function(e,t){return a.getParameterHints(e,t)}}),this.electricCharacterSupport=new s.BracketElectricCharacterSupport(this,{brackets:[{tokenType:"delimiter.bracket.js",open:"{",close:"}",isElectric:!0},{tokenType:"delimiter.array.js",open:"[",close:"]",isElectric:!0},{tokenType:"delimiter.parenthesis.js",open:"(",close:")",isElectric:!0}],docComment:{scope:"comment.doc",open:"/**",lineStart:" * ",close:" */"}}),this.characterPairSupport=new s.CharacterPairSupport(this,{autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]}]}),this.onEnterSupport=new p.OnEnterSupport(this.getId(),{brackets:[{open:"(",close:")"},{open:"{",close:"}"},{open:"[",close:"]"}],regExpRules:[{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,afterText:/^\s*\*\/$/,action:{indentAction:i.IndentAction.IndentOutdent,appendText:" * "}},{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,action:{indentAction:i.IndentAction.None,appendText:" * "}},{beforeText:/^(\t|(\ \ ))*\ \*(\ ([^\*]|\*(?!\/))*)?$/,action:{indentAction:i.IndentAction.None,appendText:"* "}},{beforeText:/^(\t|(\ \ ))*\ \*\/\s*$/,action:{indentAction:i.IndentAction.None,removeText:1}}]}),this.suggestSupport=new s.SuggestSupport(this,{triggerCharacters:["."],excludeTokens:["string","comment","number","numeric"],suggest:function(e,t){return a.suggest(e,t)},getSuggestionDetails:function(e,t,r){return a.getSuggestionDetails(e,t,r)}})}return __extends(n,t),n.prototype.asyncCtor=function(){var t=this;return this._threadService.isInMainThread?r.Promise.as(this):new r.Promise(function(r,o,n){e(["vs/languages/typescript/common/typescriptWorker2"],function(e){r(t)})})},n.prototype._getProjectResolver=function(){return c.Extensions.getProjectResolver()||c.Defaults.ProjectResolver},n.prototype._shouldBeValidated=function(e){return e.getMode()===this||/\.(d\.ts|js)$/.test(e.getAssociatedResource().fsPath)},n.prototype._getWorkerDescriptor=function(){return u.createAsyncDescriptor2("vs/languages/javascript/common/javascriptWorker","JavaScriptWorker")},n.prototype.getCommentsConfiguration=function(){return{lineCommentTokens:["//"],blockCommentStartToken:"/*",blockCommentEndToken:"*/"}},n.prototype.getWordDefinition=function(){return n.JS_WORD_DEFINITION},Object.defineProperty(n.prototype,"filter",{get:function(){},enumerable:!0,configurable:!0}),n.JS_WORD_DEFINITION=a.createWordRegExp("$"),n=__decorate([__param(1,d.IInstantiationService),__param(2,l.IThreadService),__param(3,f.ITelemetryService)],n)}(n.TypeScriptMode);t.JSMode=m});