"use strict";define("vs/languages/typescript/common/js/es6PropertyDeclarator",["require","exports","vs/languages/typescript/common/lib/typescriptServices"],function(e,t,r){var n=function(){function e(){}return Object.defineProperty(e.prototype,"name",{get:function(){return"rewriter.es6.propertyDeclarator"},enumerable:!0,configurable:!0}),e.prototype.computeEdits=function(e){for(var t=e.sourceFile.getFullText(),n=/\bclass\b/g;n.test(t);){var i=r.getTokenAtPosition(e.sourceFile,n.lastIndex-1);!i.parent||204!==i.parent.kind&&177!==i.parent.kind||this._checkForThisAssignments(i.parent,e)}},e.prototype._checkForThisAssignments=function(e,t){for(var n,i,o=/this/g,s=e.getText();o.test(s);){var a=e.getStart()+o.lastIndex-1,c=r.getTokenAtPosition(e.getSourceFile(),a);if(158===c.parent.kind&&172===c.parent.parent.kind){if(!i){i=Object.create(null);for(var p=0,u=e.members;p<u.length;p++){var l=u[p];(139===l.kind||138===l.kind)&&(i[l.name.getText()]=!0)}}var g=c.parent.name;i[g.text]||(n||(n=Object.create(null)),n[g.text]=!0)}}if(n){var f=[];for(var m in n)f.push("\n;"),f.push(m);t.newInsert(e.members.end,f.join(""))}},e}();return n});