"use strict";define("vs/editor/common/core/position",["require","exports"],function(e,n){var t=function(){function e(e,n){this.lineNumber=e,this.column=n}return e.prototype.equals=function(e){return!!e&&this.lineNumber===e.lineNumber&&this.column===e.column},e.prototype.isBefore=function(e){return this.lineNumber<e.lineNumber?!0:e.lineNumber<this.lineNumber?!1:this.column<e.column},e.prototype.isBeforeOrEqual=function(e){return this.lineNumber<e.lineNumber?!0:e.lineNumber<this.lineNumber?!1:this.column<=e.column},e.prototype.clone=function(){return new e(this.lineNumber,this.column)},e.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"},e.create=function(n,t){return new e(n,t)},e.lift=function(n){return new e(n.lineNumber,n.column)},e.isIPosition=function(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column},e.asEmptyRange=function(e){return{startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column}},e.startPosition=function(e){return{lineNumber:e.startLineNumber,column:e.startColumn}},e.endPosition=function(e){return{lineNumber:e.endLineNumber,column:e.endColumn}},e}();n.Position=t}),define("vs/editor/common/core/range",["require","exports","vs/editor/common/core/position"],function(e,n,t){var r=function(){function e(e,n,t,r){e>t||e===t&&n>r?(this.startLineNumber=t,this.startColumn=r,this.endLineNumber=e,this.endColumn=n):(this.startLineNumber=e,this.startColumn=n,this.endLineNumber=t,this.endColumn=r)}return e.prototype.isEmpty=function(){return e.isEmpty(this)},e.prototype.containsPosition=function(n){return e.containsPosition(this,n)},e.prototype.containsRange=function(n){return e.containsRange(this,n)},e.prototype.plusRange=function(n){return e.plusRange(this,n)},e.prototype.intersectRanges=function(n){return e.intersectRanges(this,n)},e.prototype.equalsRange=function(n){return e.equalsRange(this,n)},e.prototype.getEndPosition=function(){return new t.Position(this.endLineNumber,this.endColumn)},e.prototype.getStartPosition=function(){return new t.Position(this.startLineNumber,this.startColumn)},e.prototype.cloneRange=function(){return new e(this.startLineNumber,this.startColumn,this.endLineNumber,this.endColumn)},e.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"},e.prototype.setEndPosition=function(n,t){return new e(this.startLineNumber,this.startColumn,n,t)},e.prototype.setStartPosition=function(n,t){return new e(n,t,this.endLineNumber,this.endColumn)},e.prototype.collapseToStart=function(){return new e(this.startLineNumber,this.startColumn,this.startLineNumber,this.startColumn)},e.create=function(n,t,r,o){return new e(n,t,r,o)},e.lift=function(n){return n?new e(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn):null},e.isIRange=function(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn},e.isEmpty=function(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn},e.containsPosition=function(e,n){return n.lineNumber<e.startLineNumber||n.lineNumber>e.endLineNumber?!1:n.lineNumber===e.startLineNumber&&n.column<e.startColumn?!1:n.lineNumber===e.endLineNumber&&n.column>e.endColumn?!1:!0},e.containsRange=function(e,n){return n.startLineNumber<e.startLineNumber||n.endLineNumber<e.startLineNumber?!1:n.startLineNumber>e.endLineNumber||n.endLineNumber>e.endLineNumber?!1:n.startLineNumber===e.startLineNumber&&n.startColumn<e.startColumn?!1:n.endLineNumber===e.endLineNumber&&n.endColumn>e.endColumn?!1:!0},e.areIntersectingOrTouching=function(e,n){return e.endLineNumber<n.startLineNumber||e.endLineNumber===n.startLineNumber&&e.endColumn<n.startColumn?!1:n.endLineNumber<e.startLineNumber||n.endLineNumber===e.startLineNumber&&n.endColumn<e.startColumn?!1:!0},e.intersectRanges=function(n,t){var r=n.startLineNumber,o=n.startColumn,i=n.endLineNumber,s=n.endColumn,u=t.startLineNumber,a=t.startColumn,c=t.endLineNumber,m=t.endColumn;return u>r?(r=u,o=a):r===u&&(o=Math.max(o,a)),i>c?(i=c,s=m):i===c&&(s=Math.min(s,m)),r>i?null:r===i&&o>s?null:new e(r,o,i,s)},e.plusRange=function(n,t){var r,o,i,s;return t.startLineNumber<n.startLineNumber?(r=t.startLineNumber,o=t.startColumn):t.startLineNumber===n.startLineNumber?(r=t.startLineNumber,o=Math.min(t.startColumn,n.startColumn)):(r=n.startLineNumber,o=n.startColumn),t.endLineNumber>n.endLineNumber?(i=t.endLineNumber,s=t.endColumn):t.endLineNumber===n.endLineNumber?(i=t.endLineNumber,s=Math.max(t.endColumn,n.endColumn)):(i=n.endLineNumber,s=n.endColumn),new e(r,o,i,s)},e.equalsRange=function(e,n){return!!e&&!!n&&e.startLineNumber===n.startLineNumber&&e.startColumn===n.startColumn&&e.endLineNumber===n.endLineNumber&&e.endColumn===n.endColumn},e.compareRangesUsingStarts=function(e,n){return e.startLineNumber===n.startLineNumber?e.startColumn===n.startColumn?e.endLineNumber===n.endLineNumber?e.endColumn-n.endColumn:e.endLineNumber-n.endLineNumber:e.startColumn-n.startColumn:e.startLineNumber-n.startLineNumber},e.compareRangesUsingEnds=function(e,n){return e.endLineNumber===n.endLineNumber?e.endColumn===n.endColumn?e.startLineNumber===n.startLineNumber?e.startColumn-n.startColumn:e.startLineNumber-n.startLineNumber:e.endColumn-n.endColumn:e.endLineNumber-n.endLineNumber},e.spansMultipleLines=function(e){return e.endLineNumber>e.startLineNumber},e.hashCode=function(e){return 17*e.startLineNumber+23*e.startColumn+29*e.endLineNumber+37*e.endColumn},e.collapseToStart=function(e){return{startLineNumber:e.startLineNumber,startColumn:e.startColumn,endLineNumber:e.startLineNumber,endColumn:e.startColumn}},e}();n.Range=r}),define("vs/languages/annotatedLanguage/common/csharpTokenization",["require","exports"],function(e,n){n.language2={displayName:"C#",name:"cs",defaultToken:"",lineComment:"// ",blockCommentStart:"/*",blockCommentEnd:"*/",wordDefinition:/(-?\d*\.\d\w*)|([^\`\~\!\#\$\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,autoClosingPairs:[['"','"'],["'","'"],["{","}"],["[","]"],["(",")"]],brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],editorOptions:{tabSize:4,insertSpaces:!0},keywords:["extern","alias","using","bool","decimal","sbyte","byte","short","ushort","int","uint","long","ulong","char","float","double","object","dynamic","string","assembly","module","is","as","ref","out","this","base","new","typeof","void","checked","unchecked","default","delegate","var","const","if","else","switch","case","while","do","for","foreach","in","break","continue","goto","return","throw","try","catch","finally","lock","yield","from","let","where","join","on","equals","into","orderby","ascending","descending","select","group","by","namespace","partial","class","field","event","method","param","property","public","protected","internal","private","abstract","sealed","static","struct","readonly","volatile","virtual","override","params","get","set","add","remove","operator","true","false","implicit","explicit","interface","enum","null","async","await"],namespaceFollows:["namespace","using"],parenFollows:["if","for","while","switch","foreach","using","catch"],operators:["=","??","||","&&","|","^","&","==","!=","<=",">=","<<","+","-","*","/","%","!","~","++","--","+=","-=","*=","/=","%=","&=","|=","^=","<<=",">>=",">>","=>"],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-zA-Z_]\w*/,{cases:{"@namespaceFollows":{token:"keyword.$0",next:"@namespace"},"@keywords":{token:"keyword.$0",next:"@qualified"},"@default":{token:"identifier",next:"@qualified"}}}],{include:"@whitespace"},[/}/,{cases:{"$S2==interpolatedstring":{token:"string.quote",bracket:"@close",next:"@pop"},"@default":"@brackets"}}],[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/@"/,{token:"string.quote",bracket:"@open",next:"@litstring"}],[/\$"/,{token:"string.quote",bracket:"@open",next:"@interpolatedstring"}],[/\d*\.\d+([eE][\-+]?\d+)?[fFdD]?/,"number.float"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],qualified:[[/[a-zA-Z_][\w]*/,{cases:{"@keywords":"keyword.$0","@default":"identifier"}}],[/\./,"delimiter"],["","","@pop"]],namespace:[{include:"@whitespace"},[/[A-Z]\w*/,"namespace"],[/[\.=]/,"delimiter"],["","","@pop"]],comment:[[/[^\/*]+/,"comment"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],litstring:[[/[^"]+/,"string"],[/""/,"string.escape"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],interpolatedstring:[[/[^\\"{]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/{{/,"string.escape"],[/}}/,"string.escape"],[/{/,{token:"string.quote",bracket:"@open",next:"root.interpolatedstring"}],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/^[ \t\v\f]*#\w.*$/,"namespace.cpp"],[/[ \t\v\f\r\n]+/,""],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}}}),define("vs/languages/annotatedLanguage/common/references",["require","exports"],function(e,n){function t(e,n){var t=n.trange;return{resource:e.getResourceUrl(n.tref),range:t}}var r=function(){function e(e,n){this.entries=n,this.path=e}return e.prototype.getReferences=function(){return this.entries},e}();n.References=r,n.createReference=t}),define("vs/languages/annotatedLanguage/common/annotations",["require","exports","vs/base/common/winjs.base","./references","vs/base/common/paths","vs/editor/common/core/range"],function(e,n,t,r,o,i){var s=function(){function e(e,n){this.codeLensSymbols={type:!0,method:!0,property:!0},this.entries=n,this.resourceURL=e;var t=e.getPath().split("/",2);this.assembly=t[0],this.sourceName=t[1]}return e.prototype.getEntryAtOffset=function(e){for(var n=0;n<this.entries.length;n++){var t=this.entries[n];if(i.Range.containsPosition(t.range,e))return t}return null},e.prototype.findSymbolDecl=function(e){for(var n=0;n<this.entries.length;n++){var t=this.entries[n];if(t.symbolId===e&&"decl"===t.refType)return t}return null},e.prototype.findDeclaration=function(e,n){var r=this.getEntryAtOffset(n);if(!r)return null;if("decl"!==r.refType){if(r.declAssembly&&r.declAssembly!==this.assembly&&!r.declFile)return t.TPromise.as({resource:e.getResourceUrl(o.join(r.declAssembly,r.symbolId)),range:{startLineNumber:1,endLineNumber:1,startColumn:1,endColumn:1}});if(r.declAssembly&&r.declFile){var i=e.getResourceUrl(o.join(r.declAssembly,r.declFile));if(!i.equals(this.resourceURL))return e.getAnnotations(i,!0).then(function(e){return e.getDeclarationReference(r.symbolId)})}}return t.TPromise.as(this.getDeclarationReference(r.symbolId))},e.prototype.findOccurences=function(e,n){var r=this.getEntryAtOffset(n);return r?t.TPromise.as(this.entries.filter(function(e){return e.symbolId===r.symbolId}).map(function(e){return{kind:"write"===e.refType||"decl"===e.refType?"write":null,range:e.range}})):t.TPromise.as([])},e.prototype.findReferences=function(e,n,o){var i=this,s=this.getEntryAtOffset(o);return s?s.declAssembly?e.getReferences(s,!0).then(function(n){return n.getReferences().map(function(n){return r.createReference(e,n)})}):t.TPromise.as(this.entries.filter(function(e){return e.symbolId===s.symbolId}).map(function(e){var t=e.range;({startLineNumber:t.startLineNumber,endLineNumber:t.endLineNumber,startColumn:1,endColumn:n.getLineMaxColumn(t.endLineNumber)});return{resource:i.resourceURL,range:t}})):null},e.prototype.getOutline=function(){var e=this;return this.entries.filter(function(e){return"decl"===e.refType&&"local"!==e.symbolType&&"param"!==e.symbolType}).map(function(n){return{label:n.label,type:e.getIconType(n),range:n.range}})},e.prototype.computeInfo=function(e){var n=this.getEntryAtOffset(e);if(n&&n.hover){var r=[];return r.push({className:"type",text:n.hover}),t.TPromise.as({range:n.range,htmlContent:r,className:"typeInfo al"})}},e.prototype.findCodeLensSymbols=function(){var e=this;return this.entries.filter(function(n){return"decl"===n.refType&&e.codeLensSymbols[n.symbolType]}).map(function(e){return{id:e.symbolId,range:e.range}})},e.prototype.getIconType=function(e){switch(e.symbolType){case"type":return"class";case"local":return"variable";case"param":return"variable";case"property":return"property";case"event":return"property";case"field":return"property";case"method":return"function"}return null},e.prototype.getDeclarationReference=function(e){var n=this.findSymbolDecl(e);if(n){var t=n.range;return{resource:this.resourceURL,range:t}}return null},e}();n.Annotations=s});var __decorate=this&&this.__decorate||function(e,n,t,r){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,n,t,r);switch(arguments.length){case 2:return e.reduceRight(function(e,n){return n&&n(e)||e},n);case 3:return e.reduceRight(function(e,r){return void(r&&r(n,t))},void 0);case 4:return e.reduceRight(function(e,r){return r&&r(n,t,e)||e},r)}},__param=this&&this.__param||function(e,n){return function(t,r){n(t,r,e)}};define("vs/languages/annotatedLanguage/common/annotatedResourceService",["require","exports","vs/base/common/network","vs/base/common/winjs.base","./annotations","./references","vs/base/common/errors","vs/platform/instantiation/common/instantiation","vs/platform/instantiation/common/descriptors","vs/platform/workspace/common/workspace"],function(e,n,t,r,o,i,s,u,a,c){var m=function(){function e(e,n){this.contextServiceRoot="inmemory://model/",this.contextService=e,this.instantiationService=n,this.referencesStore={},this.annotationsStore={},this.annotationRequestServicePromise=null}return e.prototype.getAnnotationRequestService=function(){if(!this.annotationRequestServicePromise){var e=this.contextService.getOptions().annotationRequestService;if(e){var n=a.AsyncDescriptor.create(e.moduleName,e.ctorName);this.annotationRequestServicePromise=this.instantiationService.createInstance(n).then(function(e){return e},function(e){return r.TPromise.wrapError("Unable to instanciate "+n.moduleName+" / "+n.ctorName+": "+e)})}else this.annotationRequestServicePromise=r.TPromise.wrapError("annotationRequestService is not specified in the context options.")}return this.annotationRequestServicePromise},e.prototype.getAnnotations=function(e,n){var t=this.getPath(e),r=this.annotationsStore[t];return!r&&n&&(r=this.getAnnotationRequestService().then(function(n){return n.getAnnotations(t).then(function(n){var t=new o.Annotations(e,n);return t},function(n){return s.onUnexpectedError(n),new o.Annotations(e,[])})},function(n){return s.onUnexpectedError(n),new o.Annotations(e,[])}),this.annotationsStore[t]=r),r},e.prototype.getReferences=function(e,n){var t=e.symbolId,r=this.referencesStore[t];return!r&&n&&(r=this.getAnnotationRequestService().then(function(n){return n.getReferences(e.declAssembly,t).then(function(e){return new i.References(t,e)},function(e){return s.onUnexpectedError(e),new i.References(t,[])})},function(e){return s.onUnexpectedError(e),new i.References(t,[])}),this.referencesStore[t]=r),r},e.prototype.getResourceUrl=function(e){return new t.URL(this.contextServiceRoot+e)},e.prototype.getPath=function(e){return e.toString().substring(this.contextServiceRoot.length)},e=__decorate([__param(0,c.IWorkspaceContextService),__param(1,u.IInstantiationService)],e)}();n.AnnotatedResourceService=m});var __extends=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)};define("vs/languages/annotatedLanguage/common/annotatedLanguage",["require","exports","vs/base/common/winjs.base","./csharpTokenization","vs/editor/common/modes/supports","./annotatedResourceService","vs/editor/common/modes/monarch/monarch","vs/editor/common/modes/monarch/monarchCompile"],function(e,n,t,r,o,i,s,u){function a(e){var n={};for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}var c=a(r.language2),m=function(e){function n(n,t,r){var s=this;e.call(this,n,t,r,u.compile(c)),this.modelService=n.modelService,this.suggestSupport=null,this.inplaceReplaceSupport=null,this.extraInfoSupport=this,this.referenceSupport=new o.ReferenceSupport(this,{tokens:["identifier.cs"],findReferences:function(e,n,t){return s.findReferences(e,n)}}),this.outlineSupport=this,this.declarationSupport=new o.DeclarationSupport(this,{tokens:["identifier.cs"],findDeclaration:function(e,n){return s.findDeclaration(e,n)}}),this.codeLensSupport=this,this.annotatedResourceService=n.instantiationService.createInstance(i.AnnotatedResourceService)}return __extends(n,e),n.prototype.computeInfo=function(e,n){return this.annotatedResourceService.getAnnotations(e,!0).then(function(e){return e?e.computeInfo(n):null})},n.prototype.findOccurrences=function(e,n,t){var r=this;return this.annotatedResourceService.getAnnotations(e,!0).then(function(e){return e?e.findOccurences(r.annotatedResourceService,n):null})},n.prototype.findReferences=function(e,n){var t=this;return this.annotatedResourceService.getAnnotations(e,!0).then(function(r){if(r){var o=t.modelService.getModel(e);return r.findReferences(t.annotatedResourceService,o,n)}return null})},n.prototype.findDeclaration=function(e,n){var t=this;return this.annotatedResourceService.getAnnotations(e,!0).then(function(e){return e?e.findDeclaration(t.annotatedResourceService,n):null})},n.prototype.getOutline=function(e){return this.annotatedResourceService.getAnnotations(e,!0).then(function(e){return e?e.getOutline():null})},n.prototype.enableCodeLens=function(){return!0},n.prototype.findCodeLensSymbols=function(e){return this.annotatedResourceService.getAnnotations(e,!0).then(function(e){return e?e.findCodeLensSymbols():null})},n.prototype.findCodeLensReferences=function(e,n){var r=this;return this.annotatedResourceService.getAnnotations(e,!0).then(function(o){return o?t.Promise.join(n.map(function(n){var t=r.modelService.getModel(e);return o.findReferences(r.annotatedResourceService,t,n.position)})).then(function(e){return{references:e,languageModeStateId:1}}):null})},n}(s.MonarchMode);n.ALMode=m});