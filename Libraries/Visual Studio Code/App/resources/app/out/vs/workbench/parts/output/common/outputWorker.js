"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};define("vs/workbench/common/textEditorWorker",["require","exports","vs/editor/common/modes/abstractModeWorker","vs/base/common/strings","vs/base/common/arrays","vs/base/common/paths","vs/editor/common/core/range"],function(e,t,r,n,o,c,s){var i=function(e){function t(r,n,o){e.call(this,r,n,o),this._contextService=r.contextService;var c=this._contextService.getWorkspace();this.patterns=c?t.createPatterns(c):[]}return __extends(t,e),Object.defineProperty(t.prototype,"contextService",{get:function(){return this._contextService},enumerable:!0,configurable:!0}),t.prototype.computeLinks=function(r){var n=this;return e.prototype.computeLinks.call(this,r).then(function(e){if(!n.patterns.length)return e;for(var o=n.resourceService.get(r),c=1,s=o.getLineCount();s>=c;c++)e.push.apply(e,t.detectLinks(o.getLineContent(c),c,n.patterns,n._contextService));return e})},t.createPatterns=function(e){var t=[],r=o.distinct([c.normalize(e.resource.fsPath,!0),c.normalize(e.resource.fsPath,!1)]);return r.forEach(function(e){t.push(new RegExp(n.escapeRegExpCharacters(e)+"(\\S*) on line ((\\d+)(, column (\\d+))?)","gi")),t.push(new RegExp(n.escapeRegExpCharacters(e)+"(\\S*):line ((\\d+)(, column (\\d+))?)","gi")),t.push(new RegExp(n.escapeRegExpCharacters(e)+"([^\\s\\(\\)]*)(\\s?\\((\\d+)(,(\\d+))?)\\)","gi")),t.push(new RegExp(n.escapeRegExpCharacters(e)+"([^:\\s\\(\\)<>'\"\\[\\]]*)(:(\\d+))?(:(\\d+))?","gi"))}),t},t.detectLinks=function(e,t,r,o){var c=[];return r.forEach(function(r){r.lastIndex=0;for(var i,a=0;null!==(i=r.exec(e));){var u,p=n.replaceAll(n.rtrim(i[1],"."),"\\","/");try{u=o.toResource(p).toString()}catch(h){continue}if(i[3]){var f=i[3];if(i[5]){var m=i[5];u=n.format("{0}#{1},{2}",u,f,m)}else u=n.format("{0}#{1}",u,f)}var d=n.rtrim(i[0],"."),v=e.indexOf(d,a);a+=v+d.length;var l={startColumn:v+1,startLineNumber:t,endColumn:v+1+d.length,endLineNumber:t};if(c.some(function(e){return s.Range.areIntersectingOrTouching(e.range,l)}))return;c.push({range:l,url:u})}}),c},t}(r.AbstractModeWorker);t.TextEditorWorker=i});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};define("vs/workbench/parts/output/common/outputWorker",["require","exports","vs/workbench/common/textEditorWorker"],function(e,t,r){var n=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t}(r.TextEditorWorker);t.OutputWorker=n});