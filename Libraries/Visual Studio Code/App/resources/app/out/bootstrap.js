/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
function safeStringify(e){var n,r=[];if(e.length)for(var t=0;t<e.length;t++)if("undefined"==typeof e[t])e[t]="undefined";else if(e[t]instanceof Error){var o=e[t];o.stack?e[t]=o.stack:e[t]=o.toString()}try{n=JSON.stringify(e,function(e,n){if(n&&"[object Object]"===Object.prototype.toString.call(n)){if(-1!==r.indexOf(n))return Object.create(null);r.push(n)}return n})}catch(s){return"Output omitted for an object that cannot be inspected ("+s.toString()+")"}return n&&n.length>MAX_LENGTH?"Output omitted for a large object that exceeds the limits":n}function safeSend(e){try{process.send(e)}catch(n){}}function uriFromPath(e){var n=path.resolve(e).replace(/\\/g,"/");return n.length>0&&"/"!==n.charAt(0)&&(n="/"+n),encodeURI("file://"+n)}if(process.noAsar=!0,process.send&&"true"===process.env.PIPE_LOGGING){var MAX_LENGTH=1e5;"true"===process.env.VERBOSE_LOGGING?(console.log=function(){safeSend({type:"__$console",severity:"log",arguments:safeStringify(arguments)})},console.warn=function(){safeSend({type:"__$console",severity:"warn",arguments:safeStringify(arguments)})}):(console.log=function(){},console.warn=function(){}),console.error=function(){safeSend({type:"__$console",severity:"error",arguments:safeStringify(arguments)})};var stream=require("stream"),writable=new stream.Writable({write:function(e,n,r){}});process.__defineGetter__("stdout",function(){return writable}),process.__defineGetter__("stderr",function(){return writable}),process.__defineGetter__("stdin",function(){return writable})}process.on("uncaughtException",function(e){console.error("Uncaught Exception: ",e.toString()),e.stack&&console.error(e.stack)});var path=require("path"),loader=require("./vs/loader"),nlsConfig=void 0;process.env.VSCODE_NLS_CONFIG&&(nlsConfig=JSON.parse(process.env.VSCODE_NLS_CONFIG)),loader.config({baseUrl:uriFromPath(path.join(__dirname)),catchError:!0,nodeRequire:require,nodeMain:__filename,"vs/nls":nlsConfig||{availableLanguages:{}}}),nlsConfig&&nlsConfig.pseudo&&loader(["vs/nls"],function(e){e.setPseudoTranslation(nlsConfig.pseudo)});var entrypoint=process.env.AMD_ENTRYPOINT;entrypoint&&loader([entrypoint],function(){},function(e){console.error(e)});